---
layout: default
title:  "AI搜索"
categories: AI
---

# AI搜索

> 参考文章：[我做了一个 AI 搜索引擎](https://mp.weixin.qq.com/s?\_\_biz=MzU0NDk4OTk2Mg==\&mid=2247484435\&idx=1\&sn=db57229886f140cd826af37ad7a58348\&scene=21\&poc\_token=HDvklGajQU9QHqXJcWhlX7lF6Kp7UV3v3W46ac0Z)

关键因素：上下文（有效信息密度） + 基座模型（智能程度）

## 会话历史

多轮对话的场景中，每一次新的问题，需要结合历史对话重新做意图识别和改写，需要注意：历史对话如果过长需要做特殊处理，规避上下文token超限，只保留重要的信息。(去重等)

## 整体流程梳理

用户输入--意图识别--query改写--多模态多渠道召回--重排-- prompt增强--llm生成回答

### 1. 意图识别：

#### 1.1 判断用户query是否需要联网查询

目的：提升搜索效率，减少不必要的召回阶段耗时

解决策略

1. 提前准备好问题库，做query相似匹配
2. 通过prompt，由llm判断

#### 1.2 对问题分类：购买/问答/生成方案文章/生图

### 2. query改写：

1. 让提问更加精准/专业
2. 补全上下文信息,示例：吊灯-->欧式吊灯
3. 名词提取

### 3. 多模态：文本+图片

### 4. 召回

#### 多渠道

1. 图搜/火山搜索/内部商品向量库检索/外部公网搜索/用户自定义知识库
2. 多路召回，多次召回：拆分-召回-组合
3. 重排Reranking
   1. FlashRank等开源框架
   2. 向量数据库
4. 搜索内容读取：在检索到列表信息后，再深入读取详情信息。
   1. 可以将提高信息密度
   2. 需要使用线程池等并行技术

### llm生成回答

答案生成后，还可以转格式：json，toc思维导图等

## 其他想法

1. <mark style="background-color:orange;">做垂直领域的AI搜索，核心价值点在：数据，专门优化的索引库</mark>
2. AI+人/AI->共同生产内容，优质内容
3. AI+SEO：按照模版批量生产内容，同时可以照顾到长尾内容